<!DOCTYPE html>
<html>
  <head>
	<title>Issue Details</title>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="screenstyle.css" media="screen">

    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.3.0/firebase-database.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyAvCRHKcOCw-ewrhvBneLa_q6gWuIL5VyU",
        authDomain: "b-website-70993.firebaseapp.com",
        databaseURL: "https://b-website-70993.firebaseio.com",
        projectId: "b-website-70993",
        storageBucket: "b-website-70993.appspot.com",
        messagingSenderId: "183195888057"
      };
      firebase.initializeApp(config);
    </script>
  </head>
  <body>
    <div class="banner">
	  <h1>Issue Name: &nbsp; <span id=issueNameField></span></h1>
	  <h2>Issue Type: &nbsp; <span id=issueTypeField></span></h2>
    </div>	
	<br>
	<p>Issue Description:</p>
	<p id=issueDescField></p><br>

	<img src="">

    <script>

      const url = "http://localhost:3000/issues";

      window.addEventListener('DOMContentLoaded', function() {
        fetchIssue();
      });

      function fetchIssue() {

      	var thisUrl = new URL(window.location.href);
        // get parameters
        var id = thisUrl.searchParams.get("id");

      // Fetch data and parse as JSON
      fetch(url+"/"+id).then(response => response.json()).then(function(response) {
      renderIssue(response);
      });

      }

      function renderIssue(response) {
      	document.getElementById("issueNameField").innerHTML = response["issueName"];
      	document.getElementById("issueTypeField").innerHTML = response["issueType"];
      	document.getElementById("issueDescField").innerHTML = response["issueDescription"];
      }
    </script>

  </body>
</html>